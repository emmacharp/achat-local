
/*

#e4f1ff
#342082
#750612
#260b0a
#ebfff6

*/

* {
	padding: 0;
	margin: 0;
}

:root {
	font-family: 'InputMonoNarrow', Consolas, 'Courier New', monospace;
	font-family: 'Avenir Next', Didot, 'Helvetica Neue', Helvetica, Arial, Verdana, sans-serif;
	font-family: 'Avenir Next', Didot, 'Helvetica Neue', Helvetica, Arial, Verdana, sans-serif;
	font-weight: 500;
	--agent-width: 80px;
	--agent-height: 80px;
}

h1, h2, h3, h4, h5, h6 {
	font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
	margin-bottom: 1em;
}

html {
	--master-background-color: white;
	scroll-snap-type: y proximity;
	background-color: var(--master-background-color);
/*				background-image: url(assets/img/papier.jpg);
	background-blend-mode: luminosity;*/
	/*background-color: #F1EAE4;*/
}

/*body {
	padding: 50px;
}
body>*+* {
	margin-top: 50px;
}*/
h1 {
	margin-top: 1rem;
	margin-bottom: 2rem;
	font-size: 3.4em;
	line-height: 1.1em;
	max-width: 24ch;

}

section>div:first-child {
	float: right;
	width: 50%;
	height: 100%;
	position: relative;
	margin-right: -50px;
	margin-top: -50px;
	/*margin-bottom: -50px;*/

}

[alt="quebec"] {
	/*margin-bottom: -50%;*/
	/*margin-top: -15%;*/
	/*margin-right: -30%;*/
	/*transform: rotate(-25deg);*/
}

[alt=canada] {
	margin-top: 10%;
	margin-left: 20%;
	/*transform: translateX(40%);*/
	/*transform: rotate(45deg);*/
}

[alt="quebec"],
[alt="canada"] {
	position: absolute;
	width: 60%;
	/*height: 60%;*/
	object-position: left top;
	/*float:right;
	clear: right;*/
	/*position: absolute;*/
	z-index: -1;
	/*transform: rotate(45deg);*/
	/*left: 80%;*/
	/*margin-right: -30%;*/
	object-fit: cover;
	mix-blend-mode: difference;
	filter: hue-rotate(185deg);
	/*transform: translateX(50%);*/
}

main>section:first-of-type>header {
	/*font-size: 1.5em;*/
}

aside {
	/*float: right;*/
}
h1 strong {
	color: blue;
}
header {
	/*flex-basis: 100%;*/
	flex-shrink: 0;
}

main>* {
	position: relative;
}

main>:nth-last-child(2) {
	z-index: 2;
}

main>:nth-last-child(3) {
	z-index: 3;
}

main>:nth-last-child(4) {
	z-index: 4;
}

main>:nth-last-child(5) {
	z-index: 5;
}

main>:nth-last-child(6) {
	z-index: 6;
}

main>:nth-last-child(7) {
	z-index: 7;
}

header>span+* {
	margin-left: 50px;
}
main>* {
	/*display: flex;*/
	/*justify-content: space-between;*/
	position: relative;
	/*flex-wrap: wrap;*/
	padding: 50px;
	box-sizing: border-box;
	/*align-items: flex-start;*/
}
main>*>* {
	/*flex-grow: 1;*/
}

main>*>*+* {
	margin-top: 50px;
}

main>section>div {
	/*column-width: 35ch;*/
	/*column-gap: 2em;
	max-width: calc(35ch * 4 + 2em * 3);
	min-height: 20vh;
	*//*display: contents;*/
}

main>section>svg {
	width: 300px;
	height: auto;
	float: left;
	shape-outside: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg xmlns:x='http://ns.adobe.com/Extensibility/1.0/' xmlns:i='http://ns.adobe.com/AdobeIllustrator/10.0/' xmlns:graph='http://ns.adobe.com/Graphs/1.0/' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill='%23000000' version='1.1' x='0px' y='0px' viewBox='0 0 100 100' style='enable-background:new 0 0 100 100;' xml:space='preserve'%3E%3Cpath d='M74,60.4c-6,1.4-16.7,2.7-20.4,1.5c-1.5-0.7-5.4-5-7.5-7.3c-2-2.2-3.8-4.2-5.6-5.8c-3-3-5.4-5.1-9.8-6.2 c-5.3-1.4-18.8-2.9-22.6,6c-4,9.4-3.4,29.1-3.3,46.4c0,1.5,1,2.7,2.5,2.7c3.7,0,26.9,0,28.6,0c1.7,0,2.4-1,2.6-2.3 c0.1-0.9,1.2-12.9,1.8-24.6c2.7,2.7,5.5,4.8,8.5,5.8c2.8,0.9,6.2,1.2,9.7,1.2c8.2,0,16.8-1.8,19-2.3c4.1-0.9,6.7-5,5.8-9.1 C82.2,62,78.1,59.4,74,60.4z'/%3E%3Cellipse cx='24.5' cy='19.9' rx='17.4' ry='17.4'/%3E%3Cpath d='M93.3,27.6h-3.4l-7.7-9.4c-0.7-0.9-2.1-1.1-3-0.3c-0.9,0.7-1.1,2.1-0.3,3l5.5,6.7H60.6l5.5-6.7c0.7-0.9,0.6-2.3-0.3-3 c-0.9-0.7-2.3-0.6-3,0.3l-7.7,9.4h-3.4c-1.2,0-2.1,1-2.1,2.1s1,2.1,2.1,2.1h2l3.1,19.2c0.2,1,1.1,1.8,2.1,1.8H86 c1.1,0,1.9-0.8,2.1-1.8l3.1-19.2h2c1.2,0,2.1-1,2.1-2.1S94.4,27.6,93.3,27.6z M65.7,44.2c0,1.2-1,2.1-2.1,2.1s-2.1-1-2.1-2.1 v-7.9c0-1.2,1-2.1,2.1-2.1s2.1,1,2.1,2.1V44.2z M74.6,44.2c0,1.2-1,2.1-2.1,2.1s-2.1-1-2.1-2.1v-7.9c0-1.2,1-2.1,2.1-2.1 s2.1,1,2.1,2.1V44.2z M83.5,44.2c0,1.2-1,2.1-2.1,2.1c-1.2,0-2.1-1-2.1-2.1v-7.9c0-1.2,1-2.1,2.1-2.1c1.2,0,2.1,1,2.1,2.1V44.2z'/%3E%3C/svg%3E%0A");
	shape-margin: 1em;
}

main>section>div>p {
	/*text-indent: 2em;
	line-height: 1.6em;
	display: inline-block;*/
}

main>section {
	height: 100vh;
	overflow-x: hidden;
	/*display: flex;
	flex-direction: column;
	*/scroll-snap-align: start;
	width: 100%;
	max-width: 100%;
	box-sizing: border-box;
	bottom: 0;
	position: sticky;
	box-shadow: -10px 0px 14px rgba(0,0,0,.2);
	background-color: var(--master-background-color);
	overflow-y: auto;
}

[id="chaine"] {
	display: flex;
	/*background-color: var(--master-background-color);*/
	position: relative;
	/*position: sticky;
	bottom: 0px;
	max-height: min-content;
	margin-top: auto;*/
}

[id="chaine"]>* {
	flex-grow: 1;
}

.agent {
	position: relative;
	width: var(--agent-width);
	height: var(--agent-height);
	background-color: lightgrey;
	border-left: 4px solid var(--master-background-color);
	border-right: 4px solid var(--master-background-color);
}

.agent.local {
	--master-color: blue;
}

.agent.import {
	--master-color: red;
}

.agent {
	--cumul-import: 0px;
	--cumul-local: 0px;
	--value-added: 0px;
	background-size: calc(var(--cumul-import) + 1px) calc(var(--cumul-import) + 1px), calc(var(--cumul-local) + 2px) calc(var(--cumul-local) + 2px), var(--value-added) var(--value-added), 8px 8px, 8px 8px;
	background-image: linear-gradient(to top, red 0, red var(--cumul-import), var(--master-background-color) var(--cumul-import)), linear-gradient(to top, blue 0, blue var(--cumul-local)), linear-gradient(to right, var(--master-color) 0, var(--master-color) var(--value-added)), linear-gradient(to right, transparent 0, transparent 6px, var(--master-background-color) 6px), linear-gradient(to top, transparent 0, transparent 6px, var(--master-background-color) 6px);
	background-repeat: repeat-x, repeat-x, repeat-x, repeat, repeat;
	background-position: bottom left, bottom left, bottom left, 1px 1px, -1px -1px;
	/*background-color: var(--master-color);*/
}

/*section[id]:before {
	content: attr(id);
	position: absolute;
	bottom: 100%;
	margin-bottom: .5em;
	background-color: var(--master-background-color);
	padding: .25em;
	font-size: 12px;
}*/

section[id] {
	display: grid;
	grid-template-areas: 
		"nom . ."
		"agent-local reste transaction-local"
		"agent-import . transaction-import";
	grid-template-rows: min-content min-content auto;
	grid-template-columns: min-content min-content auto;
	position: relative;
}

section[id] h3 {
	grid-area: nom;
	justify-self: center;
}

section[id]>* {
	align-self: start;
	margin-top: .5em;
	justify-self: center;
	position: relative;
	color: var(--master-color);
}
section[id]>*+* {
	/*margin-left: 20px;*/
}

[id="consommateur"] .agent {
/*				--agent-width: 40px;
	--agent-height: 40px;*/
	background-color: black;
	border-radius: 50%;
	grid-area: agent-local;
}

.agent.local {
	grid-area: agent-local;
}

section[id] .import {
	margin-top: 40px;
}

section[id] .transaction {
	justify-self: stretch;
	text-align: center;
}

section[id] .transaction:before,
section[id] .reste:before {
	content: "";
	display: block;
	position: absolute;
	top: auto;
	left: 0;
	right: 0;
	border-bottom: 2px black solid;
	margin-top: .5em;
	z-index: -1;
}
section[id] .reste span {
	position: relative;
}
section[id] .reste span:before {
	content: "";
	display: block;
	position: absolute;
	left: calc(50% - 2px);
	width: 50%;
	height: calc(var(--agent-height) + 40px + .5em);
	top: auto;
	/*margin-top: calc(var(--agent-height) + 40px - .5em);*/
	border-bottom: 2px black solid;
	border-left: 2px black solid;
	z-index: -1;
}

section[id] span {
	background-color: var(--master-background-color);
	position: static;
	padding: 0 .5em;
	color: inherit;
	font-weight: 600;
	display: inline-block;
	/*font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;*/
}

section[id] .agent span {
	padding-left: 0;
}

.agent.import {
	grid-area: agent-import;
}

section[id] .reste {
	grid-area: reste;
	margin-left: 20px;
	position: static;
}

section[id] .reste,
section[id] .transaction {
	align-self: center;
}

section[id] .transaction.local {
	grid-area: transaction-local;
}

section[id] .transaction.import {
	grid-area: transaction-import;
}

/*
* {
	outline: 1px dashed grey;
}*/

#cartoon_emma {
  font-size: 16px;
  position: fixed;
  bottom: 25px;
  left: 25px;
  z-index: 1;
  display: none;
 }
  #cartoon_emma svg {
    height: 7.5rem; }
  #cartoon_emma * {
    transition: all .1s ease-in; }
  #cartoon_emma.animated [id*='oeil_ouvert'] {
    animation-name: clignement;
    animation-duration: 5s;
    animation-iteration-count: infinite; }
  #cartoon_emma.animated [id*='pupille'],
  #cartoon_emma.animated [id*='reflection'],
  #cartoon_emma.animated [id*='iris'] {
    animation-name: regarde_gauche, clignement;
    animation-duration: 13s, 5s;
    animation-iteration-count: infinite, infinite;
    animation-timing-function: ease-out, linear; }
  #cartoon_emma.animated [id*="moustache"] {
    transform-origin: center center;
    animation-name: moustache;
    animation-duration: 6s;
    animation-iteration-count: infinite; }
  #cartoon_emma.animated [id*="sourcils"] {
    transform-origin: center center;
    animation-name: hausse_sourcils;
    animation-duration: 10s;
    animation-iteration-count: infinite;
    animation-timing-function: ease-in-out; }

@keyframes clignement {
  0% {
    opacity: 1; }
  2% {
    opacity: 1; }
  2.2% {
    opacity: 0; }
  7.8% {
    opacity: 0; }
  8% {
    opacity: 1; }
  100% {
    opacity: 1; } }

@keyframes hausse_sourcils {
  29% {
    transform: translateY(0em); }
  30% {
    transform: translateY(-0.62em); }
  47% {
    transform: translateY(-0.62em); }
  48% {
    transform: translateY(0em); }
  100% {
    transform: translateY(0em); } }

@keyframes moustache {
  94% {
    transform: rotate(0deg); }
  96% {
    transform: rotate(3deg); }
  98% {
    transform: rotate(-3deg); }
  100% {
    transform: rotate(0deg); } }

@keyframes regarde_gauche {
  38% {
    transform: translate(0em, 0em); }
  38.5% {
    transform: translate(-0.48em, -0.28em); }
  49.5% {
    transform: translate(-0.48em, -0.28em); }
  50% {
    transform: translate(0em); }
  88% {
    transform: translateX(0em); }
  88.5% {
    transform: translateX(0.68em); }
  99.5% {
    transform: translateX(0.68em); }
  100% {
    transform: translateX(0em); } }

@keyframes zoom-in {
  0% {
    transform: scale(1); }
  100% {
    transform: scale(10); } }